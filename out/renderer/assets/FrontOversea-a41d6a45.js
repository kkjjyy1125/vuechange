import{j as S,f as $,w as O,A as j,Z as M,k as C,l as B,E as f,u as N,p as c,H as r,F as a,I as y,C as u,M as w,G as p,N as z,r as k,t as A}from"./primevue-2aef5b60.js";import{u as F,a as V}from"./setting.store-e57f9b22.js";import{d as q}from"./main-866edece.js";import{l as D}from"./index-d199903f.js";import{u as U}from"./user.store-e2ce3946.js";import{_ as E}from"./CIconSports.vue_vue_type_script_setup_true_lang-166e2401.js";import{_ as W,C as L,a as g}from"./CIconPublicSite.vue_vue_type_script_setup_true_lang-87df5751.js";import{_ as v}from"./CTextClip.vue_vue_type_script_setup_true_lang-2acd9278.js";import"./_plugin-vue_export-helper-c27b6911.js";const b=F(),T=q("matchOversea",{state:()=>({loading:!1,items:[]}),getters:{itemsWithCondition(l){const s=b.sorts.find(e=>e.use);return l.items.filter(e=>b.sports.find(t=>t.value==e.sport&&t.use)).sort((e,t)=>{if(s&&s.value=="price"){if(t.prize>e.prize)return 1;if(t.prize<e.prize)return-1}else{if(t.datetime>e.datetime)return-1;if(t.datetime<e.datetime)return 1}return t.league_name>e.league_name?-1:t.league_name<e.league_name?1:t.home_team_name>e.home_team_name?-1:1})},bestItemAlram(l){const s=l.items.filter(e=>b.sports.find(t=>t.value==e.sport&&t.use)).sort((e,t)=>t.prize>e.prize?1:-1)[0];return!s||s.prize<=0?0:s.prize>0&&s.prize<3e4&&b.alrams.find(e=>e.value=="0~3"&&e.use)?1:s.prize>=3e4&&s.prize<5e4&&b.alrams.find(e=>e.value=="3~5"&&e.use)?2:s.prize>=5e4&&s.prize<5e4&&b.alrams.find(e=>e.value=="5~8"&&e.use)?3:s.prize>=8e4&&b.alrams.find(e=>e.value=="8~"&&e.use)?4:null}},actions:{setItems(l){this.loading=!0,setTimeout(()=>{this.loading=!1},500),Array.isArray(l)&&(this.items=l.map(s=>{const e=this.items.find(t=>t.uid==s.uid);return(!e||e&&e.prize&&s.prize>e.prize)&&(s.arrow="up"),e&&e.prize&&s.prize<e.prize&&(s.arrow="down"),s}))}}}),H={class:"grid grid-nogutter"},I={class:"col-3 text-left"},P={class:"col-9 text-right"},Z=a("div",{class:"w-full text-center"},[a("i",{class:"pi pi-question-circle"})],-1),J=S({__name:"CFrontOverseaMatches",props:{selectedMatch:{type:Object,required:!0}},emits:["on-selected-match"],setup(l,{emit:s}){const e=l,t=s,o=D("http://158.247.219.211:8084"),d=U(),i=V(),h=T(),x=$({get:()=>e.selectedMatch,set:m=>{t("on-selected-match",m)}});return O(()=>i.overSeaRoomType,m=>{o.emit("leave_room_p2p"),o.emit("join_room_p2p_2",{user_id:d.item.id,type:m}),h.items=[],t("on-selected-match",{})}),j(()=>{o.emit("join_room_p2p_2",{user_id:d.item.id,type:i.overSeaRoomType}),o.on("receive_p2p",m=>{h.setItems(m)})}),M(()=>{o.emit("leave_room_p2p"),h.items=[]}),(m,G)=>{const _=C("Column"),R=C("DataTable");return c(),B(R,{selection:x.value,"onUpdate:selection":G[0]||(G[0]=n=>x.value=n),scrollable:!0,"scroll-height":"flex","show-gridlines":"",value:N(h).itemsWithCondition,"selection-mode":"single","data-key":"uid",virtualScrollerOptions:{itemSize:20},style:{width:"1202px"}},{empty:f(()=>[Z]),default:f(()=>[r(_,{field:"sport_name",header:"종목","header-class":"text-center","body-class":"text-center",style:{width:"2.6%"}},{body:f(({data:n})=>[r(E,{sports:n.sport},null,8,["sports"])]),_:1}),r(_,{field:"datetime",header:"경기시간","header-class":"text-center","body-class":"text-center",style:{width:"6.7%"}}),r(_,{field:"league_name",header:"리그명","header-class":"text-center","body-class":"text-center",style:{width:"14.4%"}},{body:f(({data:n})=>[r(v,{width:"167px",text:n.league_name},null,8,["text"])]),_:1}),r(_,{field:"home_team_name",header:"홈팀","header-class":"text-center","body-class":"text-center",style:{width:"19.5%"}},{body:f(({data:n})=>[r(v,{width:"228px",text:n.home_team_name},null,8,["text"])]),_:1}),r(_,{field:"away_team_name",header:"원정팀","header-class":"text-center","body-class":"text-center",style:{width:"19.5%"}},{body:f(({data:n})=>[r(v,{width:"228px",text:n.away_team_name},null,8,["text"])]),_:1}),r(_,{field:"prize",header:"결과","header-class":"text-right","body-class":"text-right",style:{width:"8.5%"}},{body:f(({data:n})=>[a("div",H,[a("div",I,[r(W,{arrow:n.arrow},null,8,["arrow"])]),a("div",P,[r(L,{price:n.prize,color:!0},null,8,["price"])])])]),_:1}),r(_,{field:"site_name2",header:"사이트명1","header-class":"text-center","body-class":"text-center",style:{width:"7%"}}),r(_,{field:"title1",header:"해외1","header-class":"text-center","body-class":"text-center",style:{width:"5%"}}),r(_,{field:"sport",header:"VS","header-class":"text-center","body-class":"text-center",style:{width:"5%"}},{body:f(n=>[y("VS")]),_:1}),r(_,{field:"title2",header:"해외2","header-class":"text-center","body-class":"text-center",style:{width:"5%"}}),r(_,{field:"site_name",header:"사이트명2","header-class":"text-center","body-class":"text-center",style:{width:"7%"}})]),_:1},8,["selection","value"])}}}),K={class:"grid grid-nogutter"},Q={class:"col-fixed",style:{width:"90%"}},X={class:"grid grid-nogutter"},Y={class:"colGreen border-right-1 border-top-1 surface-border font-bold width13"},ee=a("div",{class:"colSurfaceCard border-right-1 surface-border border-top-1 width5"},"해외1",-1),te={class:"colGreen border-right-1 border-top-1 font-bold surface-border width28"},re={class:"colGreen border-right-1 border-top-1 font-bold surface-border width28"},se=a("div",{class:"colSurfaceCard border-right-1 border-top-1 surface-border width5"},"배당",-1),ae={key:0},ie={key:0},oe={key:1},le={key:2},de={key:0},ne={class:"colGreen border-right-1 border-y-1 surface-border width13"},ce=a("div",{class:"colSurfaceCard border-right-1 border-y-1 surface-border width5"},"해외2",-1),ue={class:"colGreen border-right-1 border-y-1 font-bold surface-border width28"},he={class:"colGreen border-right-1 border-y-1 font-bold surface-border width28"},_e=a("div",{class:"colSurfaceCard border-right-1 border-y-1 surface-border width5"},"배당",-1),pe={key:0},me={key:1},fe={key:2},ve={key:3},be={class:"colLightGreen border-1 surface-border font-bold width10",style:{"line-height":"40px"}},ye={key:0},we=S({__name:"CFrontOverseaResult",props:{result:{type:Object,required:!0}},setup(l){const s=l,e=$(()=>s.result&&s.result.games&&s.result.games.length>0?s.result.games[0]:{}),t=(o,d)=>{if(!e.value)return"colGray";const i=e.value;return o=="pub"&&d=="home"?i.position!="home"&&i.pub_home>0?"colLightGreen":"colGray":o=="pub"&&d=="draw"?i.position!="draw"&&i.pub_draw>0&&i.type==1?"colLightGreen":"colGray":o=="pub"&&d=="away"?i.position!="away"&&i.pub_away>0?"colLightGreen":"colGray":o=="pri"&&d=="home"?i.position=="home"?"colLightGreen":"colGray":o=="pri"&&d=="draw"?i.position=="draw"||i.type==2||i.type==3?"colLightGreen":"colGray":o=="pri"&&d=="away"&&i.position=="away"?"colLightGreen":"colGray"};return(o,d)=>(c(),u("div",K,[a("div",Q,[a("div",X,[a("div",Y,[r(v,{text:l.result.site_name2,width:"140px"},null,8,["text"])]),ee,a("div",te,[r(v,{text:l.result.pub_home_team_name,width:"303px"},null,8,["text"])]),a("div",re,[r(v,{text:l.result.pub_away_team_name,width:"303px"},null,8,["text"])]),se,a("div",{class:w(["border-right-1","border-top-1","surface-border width7",t("pub","home")])},[e.value.pub_home?(c(),u("span",ae,[r(g,{long:!1,"site-id":e.value.pub_home_site_id},null,8,["site-id"]),y(" "+p(e.value.pub_home),1)])):z("",!0)],2),a("div",{class:w(["border-right-1","border-top-1","surface-border","width7",t("pub","draw")])},[(e.value.type==1||e.value.type==6)&&e.value.pub_draw?(c(),u("span",ie,[r(g,{long:!1,"site-id":e.value.pub_draw_site_id},null,8,["site-id"]),y(" "+p(e.value.pub_draw),1)])):(e.value.type==1||e.value.type==6)&&!e.value.pub_draw?(c(),u("span",oe," VS ")):(c(),u("span",le,p(e.value.pub_point),1))],2),a("div",{class:w(["border-top-1","surface-border","width7",t("pub","away")])},[e.value.pub_away?(c(),u("span",de,[r(g,{long:!1,"site-id":e.value.pub_away_site_id},null,8,["site-id"]),y(" "+p(e.value.pub_away),1)])):z("",!0)],2),a("div",ne,p(l.result.site_name),1),ce,a("div",ue,[r(v,{text:l.result.pri_home_team_name,width:"303px"},null,8,["text"])]),a("div",he,[r(v,{text:l.result.pri_away_team_name,width:"303px"},null,8,["text"])]),_e,a("div",{class:w(["border-right-1","border-y-1","surface-border","width7",t("pri","home")])},[r(g,{long:!1,"site-id":e.value.pri_site_id},null,8,["site-id"]),y(" "+p(e.value.pri_home),1)],2),a("div",{class:w(["border-right-1","border-y-1","surface-border","width7",t("pri","draw")])},[e.value.type==1?(c(),u("span",pe,p(e.value.pubm_draw?e.value.pubm_draw:"VS"),1)):e.value.type==2||e.value.type==3?(c(),u("span",me,[r(g,{long:!1,"site-id":e.value.pubm_draw_site_id},null,8,["site-id"]),y(" "+p(e.value.pubm_draw),1)])):e.value.type==6||e.value.type==7||e.value.type==8?(c(),u("span",fe,p(e.value.pri_point),1)):(c(),u("span",ve,p(e.value.pri_draw),1))],2),a("div",{class:w(["border-y-1","surface-border","width7",t("pri","away")])},[r(g,{long:!1,"site-id":e.value.pri_site_id},null,8,["site-id"]),y(" "+p(e.value.pri_away),1)],2)])]),a("div",be,[e.value?(c(),u("span",ye,[r(L,{price:l.result.prize},null,8,["price"])])):z("",!0)])]))}}),ge={class:"grid grid-nogutter"},xe={class:"col-12",style:{width:"1203px",height:"660px"}},ze={class:"col-12",style:{height:"50px"}},Se=a("div",{class:"col-12 colGreen font-bold",style:{height:"21px","line-height":"23px"}}," ※배팅 전 항상 배당을 확인 하신 후 배팅 해 주시기 바랍니다.(배팅금:100만원 당첨금:300만원기준) ",-1),Re=S({__name:"FrontOversea",setup(l){const s=V(),e=T(),t=k({}),o=k({}),d=i=>{try{i&&i.match_id&&i.site_id?(t.value=i,window.api.fetch.get(`/api/match/${i.match_id}/site/${i.site_id}/game?tab=8&pub_sites=${A(s.overSeaRoomType)}`).then(h=>{if(h&&h.match_id){if(o.value=h,t.value.prize!=o.value.prize){const x=e.items.find(m=>m.uid==t.value.uid);x&&(x.prize=o.value.prize)}}else t.value={},o.value={}}).catch(h=>{o.value={}})):(t.value={},o.value={})}catch{}};return M(()=>{t.value={},o.value={}}),O(()=>e.loading,i=>{i&&t.value.match_id&&d(t.value)}),(i,h)=>(c(),u("div",ge,[a("div",xe,[r(J,{"selected-match":t.value,onOnSelectedMatch:d},null,8,["selected-match"])]),a("div",ze,[r(we,{result:o.value},null,8,["result"])]),Se]))}});export{Re as default};
