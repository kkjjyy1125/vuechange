import{p as g,C as x,D as C,j as y,r as p,f as H,k as r,l as k,E as b,F as t,G as M,H as o,I as f,J as S,a as B,t as h,K as I,u as V,L}from"./primevue-2aef5b60.js";import{u as Z}from"./main-866edece.js";import{_ as D}from"./_plugin-vue_export-helper-c27b6911.js";import{_ as P}from"./CCheckbox.vue_vue_type_script_setup_true_lang-11ec537d.js";import{T as $}from"./TitleBar-991dd130.js";import{u as T}from"./setting.store-e57f9b22.js";import{u as U}from"./user.store-e2ce3946.js";import"./dayjs.min-185a5676.js";import"./_commonjsHelpers-23102255.js";const N={},q={class:"arc-container"},A=C('<div class="arc-reactor" data-v-f712f0ea><div class="arc-reactor-desc" data-v-f712f0ea><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 86 9.88" data-v-f712f0ea><title data-v-f712f0ea>자산 1</title><g data-v-f712f0ea><g data-v-f712f0ea><path class="cls-1" d="M6.81.2V6.54a16.58,16.58,0,0,1-.06,1.83,1.13,1.13,0,0,1-.54.74,3.09,3.09,0,0,1-1.29.45,17.91,17.91,0,0,1-2.45.13H0V8H.64a2.37,2.37,0,0,0,.84-.12c.2-.09.32-.2.35-.32a3.71,3.71,0,0,0,0-.73V.2Z" data-v-f712f0ea></path><path class="cls-1" d="M11.73,7.75V9.69H8.16V7.75Z" data-v-f712f0ea></path><path class="cls-1" d="M21.68.2,24.5,9.69h-5L19.19,8H17.43l-.3,1.71H12L14.55.2ZM19.06,6.3c-.25-1.08-.5-2.4-.75-4a40.68,40.68,0,0,0-.95,4Z" data-v-f712f0ea></path><path class="cls-1" d="M29,7.75V9.69H25.37V7.75Z" data-v-f712f0ea></path><path class="cls-1" d="M30.36.2h3.5c2.32,0,3.9,0,4.72.13a4.21,4.21,0,0,1,2,.69,2,2,0,0,1,.78,1.77,1.7,1.7,0,0,1-.55,1.49,4.65,4.65,0,0,1-2.17.45,5.91,5.91,0,0,1,2,.49,1.7,1.7,0,0,1,.63.56,4.6,4.6,0,0,1,.12,1.4V9.69H36.8V6.53c0-.5-.08-.82-.24-.94a2.61,2.61,0,0,0-1.26-.18V9.69H30.36ZM35.3,1.82V3.93a4.32,4.32,0,0,0,1.16-.11c.23-.08.34-.33.34-.74V2.55A.58.58,0,0,0,36.47,2,3.36,3.36,0,0,0,35.3,1.82Z" data-v-f712f0ea></path><path class="cls-1" d="M46.3,7.75V9.69H42.73V7.75Z" data-v-f712f0ea></path><path class="cls-1" d="M59.45.2,56.94,9.69h-7.5L46.59.2H51.8q.9,3.92,1.29,6.63c.26-1.83.53-3.45.81-4.87L54.25.2Z" data-v-f712f0ea></path><path class="cls-1" d="M62.38,7.75V9.69H58.8V7.75Z" data-v-f712f0ea></path><path class="cls-1" d="M68.73.2V9.69H63.8V.2Z" data-v-f712f0ea></path><path class="cls-1" d="M73.72,7.75V9.69H70.15V7.75Z" data-v-f712f0ea></path><path class="cls-1" d="M85.59,3.07H81v-.7a.83.83,0,0,0-.17-.63,1,1,0,0,0-.59-.13,1.05,1.05,0,0,0-.67.18.63.63,0,0,0-.23.55.92.92,0,0,0,.25.71,4.07,4.07,0,0,0,1.4.58,17,17,0,0,1,4.15,1.61,2.34,2.34,0,0,1,.85,2,2,2,0,0,1-.47,1.49,4,4,0,0,1-1.83.81,13.64,13.64,0,0,1-3.17.32,13.22,13.22,0,0,1-3.38-.37,3.35,3.35,0,0,1-1.83-1,2.67,2.67,0,0,1-.44-1.64V6.29h4.58V7.44c0,.36.07.59.2.69a1.16,1.16,0,0,0,.68.15,1.24,1.24,0,0,0,.74-.19.7.7,0,0,0,.24-.58,1.15,1.15,0,0,0-.46-1.09,17.13,17.13,0,0,0-2.31-.87c-1.23-.4-2-.7-2.44-.88a2.68,2.68,0,0,1-1-.76,1.94,1.94,0,0,1-.39-1.24,2.07,2.07,0,0,1,.56-1.6,4.1,4.1,0,0,1,1.8-.79,13.54,13.54,0,0,1,3-.28,14.63,14.63,0,0,1,3.27.31,3.71,3.71,0,0,1,1.79.78,2.32,2.32,0,0,1,.44,1.61Z" data-v-f712f0ea></path></g></g></svg></div><div class="arc-reactor-core" data-v-f712f0ea></div><div class="arc-reactor-effects" data-v-f712f0ea><div class="arc-reactor-effect-ring" data-v-f712f0ea></div><div class="arc-reactor-effect-ring" data-v-f712f0ea></div><div class="arc-reactor-effect-ring" data-v-f712f0ea></div></div></div>',1),F=[A];function K(w,s){return g(),x("div",q,F)}const R=D(N,[["render",K],["__scopeId","data-v-f712f0ea"]]),j=t("div",{class:"text-center w-full text-xl"},[t("i",{class:"pi pi-download mr-2"}),f("자동업데이트")],-1),E={class:"text-center"},J=y({__name:"AutoUpdater",setup(w){const s=p(""),l=p(""),d=p(0),u=p(!1),a=H(()=>s.value=="update-available"||s.value=="download-progress"||s.value=="update-downloaded");window.api.update("check_for_update"),window.electron.ipcRenderer.on("UPDATE",(n,e)=>{s.value=e.channel,e.channel=="update-available"?l.value="자비스 최신 버전이 업데이트 되었습니다":e.channel=="download-progress"?(l.value="최신 업데이트 설치파일을 다운로드 중 입니다",d.value=e.message.toFixed(2)):e.channel=="update-downloaded"?(l.value="하단버튼을 누르시면 자동설치 후 재실행 됩니다",d.value=100):l.value=e.message});const m=()=>{u.value=!0,window.api.update("quit_and_install")};return(n,e)=>{const i=r("ProgressBar"),_=r("PButton"),v=r("PDialog");return g(),k(v,{visible:a.value,"onUpdate:visible":e[0]||(e[0]=c=>a.value=c),closable:!1,modal:!0,style:{width:"330px"}},{header:b(()=>[j]),default:b(()=>[t("div",E,[t("p",null,M(l.value),1)]),o(i,{value:d.value},null,8,["value"]),o(_,{label:"최신버전 자동설치 후 재실행 하기",icon:"pi pi-refresh",class:"p-button-success w-full font-bold mt-2",disabled:s.value!="update-downloaded"||u.value,onClick:m},null,8,["disabled"])]),_:1},8,["visible"])}}}),z={class:"grid grid-nogutter"},G={class:"col-12"},O={class:"col-12 colSurfaceCard text-left"},Q={class:"m-3"},W=t("div",{class:"text-2xl"},"자비스",-1),X=t("div",{class:"mt-2 mb-4"},"자비스와 함께하는 즐거운 토생활~",-1),Y={class:"p-fluid grid formgrid"},ee={class:"field col-12"},ae=t("label",null,"아이디",-1),te={class:"field col-12"},se=t("label",null,"비밀번호",-1),oe={class:"field col-6"},le=t("div",{class:"field col-6 text-right"},[f(" 고객센터 "),t("i",{class:"pi pi-telegram text-blue-600"}),f(" JBS0055 ")],-1),ne={class:"field col-12"},ve=y({__name:"LoginIndex",setup(w){const s=T(),l=U(),d=S(),u=Z(),a=B({item:{username:"",password:"",iv:null,content:null},disabled:!1,onSubmit:()=>{a.disabled=!0;const n=window.api.encrypt(new Date+"");a.item.iv=n.iv,a.item.content=n.content,window.api.fetch.post("/api/auth/login",h(a.item)).then(e=>{if(e.error||!e.token||!e.user)throw e;window.api.ipc("set_auth_token",e.token),l.token=e.token,l.item=e.user,s.remember.use&&(s.remember.username=h(a.item.username),s.remember.password=h(a.item.password)),u.push({name:"FrontMatchInfo",replace:!0}),window.api.ipc("main_window_resize_opacity",{width:1380,height:800})}).catch(e=>{const i=e.error&&e.error.message?e.error.message:"로그인 정보가 올바르지 않습니다(2)";d.require({group:"ConfirmDialogLoginIndex",message:i,header:"알림",acceptLabel:"확인",rejectClass:"displayNone",icon:"pi pi-exclamation-triangle",accept:()=>{},reject:()=>{}})}).finally(()=>{a.disabled=!1})}}),m=n=>{s.remember.use=!n,n&&(s.remember.username="",s.remember.password="")};return s.remember.use&&(a.item.username=s.remember.username,a.item.password=s.remember.password),(n,e)=>{const i=r("InputText"),_=r("ConfirmDialog"),v=r("PButton");return g(),x(L,null,[o($,{layout:"login"}),t("div",z,[t("div",G,[o(R)]),t("div",O,[t("div",Q,[W,X,o(J),t("div",Y,[t("div",ee,[ae,o(i,{modelValue:a.item.username,"onUpdate:modelValue":e[0]||(e[0]=c=>a.item.username=c)},null,8,["modelValue"])]),t("div",te,[se,o(i,{modelValue:a.item.password,"onUpdate:modelValue":e[1]||(e[1]=c=>a.item.password=c),type:"password",onKeyup:I(a.onSubmit,["enter"])},null,8,["modelValue","onKeyup"])]),t("div",oe,[f(" 로그인정보 기억 "),o(P,{value:V(s).remember.use,onToggle:e[2]||(e[2]=c=>m(V(s).remember.use))},null,8,["value"])]),le,t("div",ne,[o(_,{group:"ConfirmDialogLoginIndex",class:"CDLoginIndex"}),o(v,{class:"font-bold w-full p-button-sm mb-2",label:"로그인",icon:"pi pi-check",disabled:a.disabled,onClick:a.onSubmit},null,8,["disabled","onClick"])])])])])])],64)}}});export{ve as default};
